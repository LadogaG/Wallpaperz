<Window x:Class="Wallpaperz.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Wallpaperz" 
        WindowStyle="None" 
        ResizeMode="NoResize"
        AllowsTransparency="False"
        ShowInTaskbar="False"
        Topmost="False"
        Loaded="Window_Loaded"
        RenderOptions.BitmapScalingMode="LowQuality">

    <Grid x:Name="MainGrid" Background="Black">

        <Grid x:Name="ContentGrid">

            <Rectangle x:Name="BackgroundRectangle" Visibility="Collapsed">
                <Rectangle.Fill>
                    <ImageBrush x:Name="BackgroundBrush"
                                TileMode="Tile"
                                Viewport="0,0,1,1"
                                ViewportUnits="RelativeToBoundingBox"
                                Stretch="UniformToFill"
                                AlignmentX="Left"
                                AlignmentY="Top"/>
                </Rectangle.Fill>
            </Rectangle>

            <Border x:Name="ForegroundGlow"
                    Visibility="Collapsed"
                    IsHitTestVisible="False"
                    Opacity="0"
                    CacheMode="BitmapCache">
                <Border.Effect>
                    <BlurEffect x:Name="GlowBlurEffect" Radius="0"/>
                </Border.Effect>
            </Border>

            <Canvas x:Name="SpectrumCanvas" 
                    Background="Transparent"
                    IsHitTestVisible="False"
                    CacheMode="BitmapCache"/>

            <Image x:Name="ForegroundImage" 
                   Stretch="Fill"
                   Visibility="Collapsed"
                   IsHitTestVisible="False"
                   RenderOptions.BitmapScalingMode="LowQuality"
                   CacheMode="BitmapCache"/>

            <TextBlock x:Name="TimeText" 
                       Text="00:00:00" 
                       FontSize="72" 
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       FontFamily="Segoe UI"
                       IsHitTestVisible="False"
                       Panel.ZIndex="1000"
                       CacheMode="BitmapCache">
                <TextBlock.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" Color="Black" Opacity="0.5"/>
                </TextBlock.Effect>
            </TextBlock>

        </Grid>

        <Canvas x:Name="BloomCanvas" 
                IsHitTestVisible="False"
                ClipToBounds="False">

            <Ellipse x:Name="BloomEllipse"
                     Width="400"
                     Height="400"
                     Opacity="0.4"
                     CacheMode="BitmapCache">
                <Ellipse.Fill>
                    <ImageBrush x:Name="BloomImageBrush" Stretch="Fill"/>
                </Ellipse.Fill>
                <Ellipse.Effect>
                    <BlurEffect Radius="50" KernelType="Gaussian"/>
                </Ellipse.Effect>
                <Ellipse.OpacityMask>
                    <RadialGradientBrush>
                        <GradientStop Color="#FFFFFFFF" Offset="0"/>
                        <GradientStop Color="#FFFFFFFF" Offset="0.4"/>
                        <GradientStop Color="#00FFFFFF" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.OpacityMask>
            </Ellipse>

            <Ellipse x:Name="BloomEllipse2"
                     Width="250"
                     Height="250"
                     Opacity="0.3"
                     CacheMode="BitmapCache">
                <Ellipse.Fill>
                    <ImageBrush x:Name="BloomImageBrush2" Stretch="Fill"/>
                </Ellipse.Fill>
                <Ellipse.Effect>
                    <BlurEffect Radius="30" KernelType="Gaussian"/>
                </Ellipse.Effect>
                <Ellipse.OpacityMask>
                    <RadialGradientBrush>
                        <GradientStop Color="#FFFFFFFF" Offset="0"/>
                        <GradientStop Color="#DDFFFFFF" Offset="0.5"/>
                        <GradientStop Color="#00FFFFFF" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.OpacityMask>
            </Ellipse>

        </Canvas>

    </Grid>
</Window>